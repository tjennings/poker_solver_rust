# Smoke test: exercises the full postflop bucketed pipeline in ~1-2 minutes.
# Tweak these values to debug specific phases.
#
# Usage:
#   cargo run -p poker-solver-trainer --release -- solve-preflop \
#     -c sample_configurations/smoke.yaml -o smoke_test
#
# Validation: AA (hand 0) should raise more than 72o (hand 168).

# ── Training parameters ──────────────────────────────────────────────────────

iterations: 20000000
equity_samples: 10000
print_every: 500
checkpoint_every: 10000
preflop_exploitability_threshold_mbb: 50 

# ── Game structure ───────────────────────────────────────────────────────────

positions:
  - name: Small Blind
    short_name: SB
  - name: Big Blind
    short_name: BB

blinds:
  - [0, 1]
  - [1, 2]

antes: []

stacks: [50, 50]  # 25 BB

raise_sizes:
  - [2.5]
  - [5.0, 7]
  - [15]

raise_cap: 3

# ── DCFR discounting ─────────────────────────────────────────────────────────

dcfr_alpha: 1.5
dcfr_beta: 0.5
dcfr_gamma: 2.0
dcfr_warmup: 0
exploration: 0.05
cfr_variant: dcfr

# ── Postflop model (minimal for fast validation) ─────────────────────────────

postflop_model:
  solve_type: exhaustive
  bet_sizes: [0.3, 0.5, 1.0, 1.5]
  max_raises_per_street: 3
  postflop_sprs: [2, 6, 20] # captures roughly rfi > call, 3-bet, 4-bet SPRs against a 100bb stack
  value_extraction_samples: 20000
  cfr_convergence_threshold: 50
  ev_convergence_threshold: 0.5
