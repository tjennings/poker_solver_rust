---
# poker_solver_rust-g10p
title: Postflop exploitability-based early stopping
status: completed
type: feature
priority: normal
created_at: 2026-02-26T02:52:23Z
updated_at: 2026-02-26T03:20:41Z
---

Replace avg positive regret with exploitability as convergence metric in per-flop bucketed and MCCFR CFR solvers.

- [x] Task 1: Add best_response_value() to postflop_bucketed.rs
- [x] Task 2: Add postflop_exploitability() and wire into bucketed solve loop
- [x] Task 3: Wire exploitability into MCCFR per-flop solve
- [x] Task 4: Rename config field and update callers
- [ ] Task 5: Clean up dead code

## Summary of Changes

- Added `best_response_value()` and `br_traverse()` — BR tree traversal for bucketed postflop CFR
- Added `postflop_exploitability()` — sums BR values for both players
- Wired into `solve_one_flop()` loop, replacing `avg_positive_regret_flat()`
- Renamed `FlopSolveResult.avg_regret` → `exploitability`, `FlopStage::Solving.avg_regret` → `exploitability`
- Renamed config `cfr_regret_threshold` → `cfr_exploitability_threshold` (default 0.01, serde aliases for backward compat)
- MCCFR variant keeps avg positive regret as proxy, documented in code
- Updated docs/training.md and docs/architecture.md
