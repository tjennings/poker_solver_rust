---
# poker_solver_rust-v95s
title: Implement preflop exploitability computation
status: completed
type: feature
priority: normal
created_at: 2026-02-26T01:04:42Z
updated_at: 2026-02-26T01:22:41Z
---

Add preflop-specific best-response exploitability computation as a method on PreflopSolver, plus a new exploitability_every config field. Gold-standard convergence metric for preflop solver.

## Tasks
- [x] Read key source files (solver.rs, mod.rs, trainer main.rs)
- [x] Create exploitability.rs with best-response computation
- [x] Wire up in preflop/mod.rs
- [x] Add exploitability_every config field to trainer
- [x] Integrate into training loop
- [x] Add unit tests
- [x] Update sample YAML config
- [x] Run tests and clippy

## Summary of Changes

- New `crates/core/src/preflop/exploitability.rs`: best-response exploitability via recursive tree traversal (max at hero nodes, strategy-weighted at opponent nodes, weighted utility sum at terminals)
- `solver.rs`: `pub fn exploitability(&self) -> f64` method + pub(crate) visibility for terminal value functions
- `trainer/main.rs`: `exploitability_every: Option<u64>` config field with validation, training loop + final iteration printing
- `preflop_medium.yaml`: added `exploitability_every: 5000`
- 4 unit tests: non-negative, uniform exploitable, trained < uniform, decreases with training
